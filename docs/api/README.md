# API Documentation Overview

This directory contains documentation related to interacting with cryptocurrency exchange APIs, specifically focusing on Binance and OKX.

- [**Binance API Testing Results**](binance_api_testing_results.md): Summarizes empirical testing results for Binance API endpoints across Spot, USDT-M Futures, and COIN-M Futures markets. It details observations on historical data availability, supported intervals (noting the 1s interval is Spot exclusive), rate limit behavior and weight consumption, response time analysis across different endpoints, common error handling, cross-market data consistency and precision, parameter behavior including handling of undocumented parameters, and an overview of WebSocket usage for real-time data.
- [**Binance API Best Practices**](binance_best_practices.md): Provides comprehensive recommendations for efficient and robust Binance API consumption. It covers detailed strategies for rate limit management (including weight tracking, batching, and endpoint distribution), data retrieval optimization (pagination for historical data, leveraging the Vision API), handling market-specific considerations (Spot, Futures), implementing robust error handling techniques (retries with exponential backoff, parameter validation, handling no data), integrating WebSockets for real-time data, improving performance with patterns like Circuit Breakers and throttling, ensuring data consistency, and provides advanced testing strategies and a production checklist.
- [**Binance API Rate Limits**](binance_rate_limits.md): Details the different types of rate limits enforced by the Binance API, including REQUEST_WEIGHT, ORDERS, and RAW_REQUESTS, across various market types such as Spot, USDT-Margined Futures, Coin-Margined Futures, and European Options. It explains how to track usage using response headers (`x-mbx-used-weight-1m`, etc.), lists common error codes (429, 418), provides optimization tips, and includes a comparison of limits across different markets.
- [**Binance REST API Boundary Behaviour**](binance_rest_api_boundary_behaviour.md): Analyzes in detail how the Binance REST API handles timestamp boundaries for time-series data. It explains the universal behavior of boundary alignment, the precise rounding rules (start times round up, end times round down), the inclusivity of both boundaries after alignment, and confirms this behavior is identical across all interval types. The document also specifically addresses the handling of future dates, noting that timestamps even milliseconds ahead of the current time result in a 403 Forbidden error.
- [**Binance REST Klines**](binance_rest_klines.md): Provides comprehensive documentation on Binance REST API market data endpoints, with a primary focus on kline (candlestick) data. Based on extensive empirical testing, it details API fundamentals, specific URL structures for Spot, Futures (USDT-M, COIN-M), and Options markets, precise rate limiting details (including weights for various endpoints and headers), response limits (default 500, max 1000), historical data availability, and comprehensive error responses (including 429, 418, and the 403 Forbidden for future dates with specific examples and handling). It also covers supported intervals per market (highlighting the Spot-exclusive 1s), response formats (noting differences like Options), compares REST with Vision API, and includes information on other market data endpoints like Trades, Depth, and Tickers.
- [**Binance Vision Klines**](binance_vision_klines.md): Describes the availability and format of historical kline data downloadable from the Binance Vision API. It lists supported intervals, details the URL structure for Spot, USDT-Margined Futures, and Coin-Margined Futures markets (noting the `_PERP` suffix for CM perpetuals), explains checksum verification, and provides a detailed breakdown of the CSV data format, including the significant change to microsecond timestamp precision for Spot data from 2025 onwards (contrasting with CM futures data which remains in milliseconds). It also briefly covers cache management key and path formats.
- [**OKX Data Download Guide**](okx_data_download_guide.md): Provides a comprehensive guide to accessing historical market data from OKX via their CDN (for raw trade/aggtrade data) and REST API (for candlestick data). It details the project's Failover Control Protocol (FCP) strategy for data retrieval, explains the CDN URL structure and raw CSV data format, and provides a detailed comparison of the `/candles` and `/history-candles` REST API endpoints regarding use cases, historical depth (including empirically found earliest dates for specific intervals like 1m and 1D), record limits, timestamp handling, and error responses. The guide lists supported REST API intervals (noting case sensitivity and 1s availability), describes the REST API data format, covers OKX symbol formatting, discusses data limitations, and mentions a specialized tool for testing historical data depth.
